<!-- Navbar Section -->
<nav class="navbar">
  <div class="navbar-container">
    <a class="navbar-brand" href="#">FakeProducts</a>
    <div class="navbar-buttons">
      <button class="btn btn-primary" (click)="loadProducts(5)">Show Top 5 Products</button>
      <button class="btn btn-primary" (click)="loadCategories()">Load Categories</button>
      <button class="btn btn-success" (click)="openFormPopup()">Add/Update Product</button>
    </div>
  </div>
</nav>

<!-- Main Container -->
<div class="container">
  <h1 class="products-heading">Products</h1>

  <!-- Sorting and Filtering Options -->
  <div class="options">
    <div class="dropdown">
      <button class="btn btn-secondary dropdown-toggle" type="button" id="sortDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Sort Products
      </button>
      <div class="dropdown-menu" aria-labelledby="sortDropdown">

      </div>
    </div>
  </div>

  <!-- Products Grid -->
  <div class="products-grid">
    <div *ngFor="let product of products" class="product-card">
      <img [src]="product.image" alt="{{ product.title }}" class="product-image"/>
      <div class="product-details">
        <h2 class="product-title">{{ product.title }}</h2>
        <p class="product-price">${{ product.price }}</p>
        <p class="product-description">{{ product.description }}</p>
        <button (click)="addToCart(product)" class="btn btn-primary">Add to Cart</button>
        <button (click)="buyProduct(product)" class="btn btn-secondary">Buy Now</button>
        <button (click)="editProduct(product)" class="btn btn-warning">Edit</button>
        <button (click)="deleteProduct(product.id)" class="btn btn-danger">Delete</button>
      </div>
    </div>
  </div>

  <!-- Popup Form for adding/updating products -->
  <div *ngIf="showFormPopup" class="popup">
    <div class="popup-content">
      <span class="close" (click)="closeFormPopup()">&times;</span>
      <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
        <label for="title">Title:</label>
        <input id="title" formControlName="title"/>
        <label for="price">Price:</label>
        <input id="price" formControlName="price"/>
        <label for="description">Description:</label>
        <input id="description" formControlName="description"/>
        <label for="image">Image URL:</label>
        <input id="image" formControlName="image"/>
        <button type="submit" class="btn btn-primary">Save</button>
      </form>
    </div>
  </div>
</div>
